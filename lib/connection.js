/**
[ By @NeKosmic || https://github.com/NeKosmic/ ]
**/
const _0x5890c8=_0x2863;(function(_0x13fb89,_0xb8c60e){const _0x232258=_0x2863,_0x5315d4=_0x13fb89();while(!![]){try{const _0x4fa73f=-parseInt(_0x232258(0x12f))/0x1*(-parseInt(_0x232258(0x11b))/0x2)+-parseInt(_0x232258(0x13e))/0x3+-parseInt(_0x232258(0x131))/0x4+-parseInt(_0x232258(0x123))/0x5+-parseInt(_0x232258(0x126))/0x6*(-parseInt(_0x232258(0x14a))/0x7)+parseInt(_0x232258(0x134))/0x8+parseInt(_0x232258(0x155))/0x9;if(_0x4fa73f===_0xb8c60e)break;else _0x5315d4['push'](_0x5315d4['shift']());}catch(_0x4a2a89){_0x5315d4['push'](_0x5315d4['shift']());}}}(_0x4104,0x1b31b));import*as _0x2654c0 from'ws';import _0x53510e from'path';function _0x2863(_0x1fa73b,_0x41ece4){const _0x4104f6=_0x4104();return _0x2863=function(_0x2863c7,_0x315614){_0x2863c7=_0x2863c7-0x118;let _0x4ff217=_0x4104f6[_0x2863c7];return _0x4ff217;},_0x2863(_0x1fa73b,_0x41ece4);}import _0x3f623a from'./store.js';import _0x48b8e7 from'./helper.js';import{HelperConnection}from'./simple.js';import _0x2fadc4 from'./import.js';import _0x59092a,{loadDatabase}from'./database.js';import _0x820a94 from'./single2multi.js';function _0x4104(){const _0x2002ba=['catch','silent','error','useMultiFileAuthState','makeInMemoryStore','182178YavmuO','sesion','/creds.json','connect','./handler.js','singleauth','handler','<[\x20NeKosmic\x20]>','log','creds.json\x20no\x20encontrado','loggedOut','group-participants.update','2572cGqJZi','default','__filename','messages.upsert','groups.update','messages.delete','off','connectionUpdate','222715Ukxyoo','onCall','timestamp','6fffoEK','opts','1.0.0','call','state','all','isReloadInit','participantsUpdate','CONNECTING','8toeSzf','data','8132fqDnbF','green','onDelete','1181752uqxwLD','debug','groupAcceptInvite','isChild','output','fixFileName','callUpdate','singleauthstate','credsUpdate','Evento\x20controlador\x20de\x20enlace\x20:\x20','469347BusOYx','statusCode','bind','checkFileExists','-\x20singleauth\x20-','bgWhite','creds.update','compilando\x20singleauth\x20a\x20multiauth...','deleteUpdate','groupsUpdate','then','isInit','953141zSVaRO','readyState','GtxTtrORaAaDdDWBGGX5R5','archivo\x20singleauth\x20no\x20encontrado','groupMetadata','connection.update'];_0x4104=function(){return _0x2002ba;};return _0x4104();}import _0x3a2d12 from'fs';import _0xb054a8 from'chalk';import _0x2cb9b4 from'pino';const {default:makeWASocket,fetchLatestBaileysVersion,DisconnectReason}=(await import('@adiwajshing/baileys'))[_0x5890c8(0x11c)],authFolder=_0x3f623a[_0x5890c8(0x139)]((_0x48b8e7[_0x5890c8(0x127)]['_'][0x0]||'')+'sesiones'),authFile=(_0x48b8e7[_0x5890c8(0x127)]['_'][0x0]||_0x5890c8(0x156))+'.dt.json',[isCredsExist,isAuthSingleFileExist]=await Promise[_0x5890c8(0x12b)]([_0x48b8e7[_0x5890c8(0x141)](authFolder+_0x5890c8(0x157)),_0x48b8e7[_0x5890c8(0x141)](authFile)]);let authState=await _0x3f623a[_0x5890c8(0x153)](authFolder),{version,isLatest}=await fetchLatestBaileysVersion();const store=_0x3f623a[_0x5890c8(0x154)]();if(_0x48b8e7[_0x5890c8(0x127)][_0x5890c8(0x15a)]||_0x48b8e7[_0x5890c8(0x127)][_0x5890c8(0x13b)]){if(!isCredsExist&&isAuthSingleFileExist)console[_0x5890c8(0x135)](_0x5890c8(0x142),_0x5890c8(0x118),_0x5890c8(0x145)),await _0x820a94(authFile,authFolder,authState),console[_0x5890c8(0x135)](_0x5890c8(0x142),'compilado\x20con\x20Ã©xito'),authState=await _0x3f623a[_0x5890c8(0x153)](authFolder);else{if(!isAuthSingleFileExist)console[_0x5890c8(0x152)](_0x5890c8(0x142),_0x5890c8(0x14d));}}const connectionOptions={'printQRInTerminal':!![],'browser':[_0x5890c8(0x15c),'Safari',_0x5890c8(0x128)],'auth':authState[_0x5890c8(0x12a)],'logger':_0x2cb9b4({'level':_0x5890c8(0x151)}),'version':version};let conns=new Map();async function start(_0x3c390e=null,_0x32e83a={'store':store}){const _0x4e095b=_0x5890c8;let _0x534b05=makeWASocket(connectionOptions);return HelperConnection(_0x534b05),_0x3c390e&&(_0x534b05[_0x4e095b(0x149)]=_0x3c390e[_0x4e095b(0x149)],_0x534b05[_0x4e095b(0x12c)]=_0x3c390e[_0x4e095b(0x12c)]),_0x534b05[_0x4e095b(0x149)]==null&&(_0x534b05[_0x4e095b(0x149)]=![],_0x534b05['isReloadInit']=!![]),store[_0x4e095b(0x140)](_0x534b05['ev'],{'groupMetadata':_0x534b05[_0x4e095b(0x14e)]}),await reload(_0x534b05,![],_0x32e83a)[_0x4e095b(0x148)](_0x259a06=>console[_0x4e095b(0x15d)](_0xb054a8[_0x4e095b(0x143)](_0x4e095b(0x13d),_0x259a06+'\x0a'))),_0x534b05;}let OldHandler=null;async function reload(_0x2ebc90,_0x3788af,_0xdbe252={}){const _0xb415f=_0x5890c8;if(!_0xdbe252[_0xb415f(0x15b)])_0xdbe252[_0xb415f(0x15b)]=_0x2fadc4(_0x48b8e7[_0xb415f(0x11d)](_0x53510e['resolve'](_0xb415f(0x159))))[_0xb415f(0x150)](console[_0xb415f(0x152)]);if(_0xdbe252['handler']instanceof Promise)_0xdbe252['handler']=await _0xdbe252['handler'];if(!_0xdbe252[_0xb415f(0x15b)]&&OldHandler)_0xdbe252[_0xb415f(0x15b)]=OldHandler;OldHandler=_0xdbe252[_0xb415f(0x15b)];const _0x3bd1c9=!!_0x2ebc90[_0xb415f(0x12c)];if(_0x3788af){try{_0x2ebc90['ws']['close']();}catch{}_0x2ebc90['ev']['removeAllListeners'](),Object['assign'](_0x2ebc90,await start(_0x2ebc90)||{});}if(!_0x3bd1c9){if(_0x2ebc90[_0xb415f(0x15b)])_0x2ebc90['ev'][_0xb415f(0x121)]('messages.upsert',_0x2ebc90['handler']);if(_0x2ebc90[_0xb415f(0x12d)])_0x2ebc90['ev'][_0xb415f(0x121)](_0xb415f(0x11a),_0x2ebc90[_0xb415f(0x12d)]);if(_0x2ebc90[_0xb415f(0x147)])_0x2ebc90['ev'][_0xb415f(0x121)](_0xb415f(0x11f),_0x2ebc90[_0xb415f(0x147)]);if(_0x2ebc90[_0xb415f(0x133)])_0x2ebc90['ev'][_0xb415f(0x121)]('messages.delete',_0x2ebc90[_0xb415f(0x133)]);if(_0x2ebc90['onCall'])_0x2ebc90['ev'][_0xb415f(0x121)]('call',_0x2ebc90['onCall']);if(_0x2ebc90[_0xb415f(0x122)])_0x2ebc90['ev']['off']('connection.update',_0x2ebc90[_0xb415f(0x122)]);if(_0x2ebc90[_0xb415f(0x13c)])_0x2ebc90['ev'][_0xb415f(0x121)](_0xb415f(0x144),_0x2ebc90[_0xb415f(0x13c)]);}_0xdbe252['handler']&&(_0x2ebc90[_0xb415f(0x15b)]=_0xdbe252[_0xb415f(0x15b)][_0xb415f(0x15b)]['bind'](_0x2ebc90),_0x2ebc90[_0xb415f(0x12d)]=_0xdbe252['handler'][_0xb415f(0x12d)][_0xb415f(0x140)](_0x2ebc90),_0x2ebc90['groupsUpdate']=_0xdbe252[_0xb415f(0x15b)]['groupsUpdate'][_0xb415f(0x140)](_0x2ebc90),_0x2ebc90['onDelete']=_0xdbe252[_0xb415f(0x15b)][_0xb415f(0x146)][_0xb415f(0x140)](_0x2ebc90),_0x2ebc90['onCall']=_0xdbe252['handler'][_0xb415f(0x13a)][_0xb415f(0x140)](_0x2ebc90));if(!_0xdbe252['isChild'])_0x2ebc90[_0xb415f(0x122)]=connectionUpdate[_0xb415f(0x140)](_0x2ebc90);_0x2ebc90[_0xb415f(0x13c)]=authState['saveCreds'][_0xb415f(0x140)](_0x2ebc90),_0x2ebc90['ev']['on'](_0xb415f(0x11e),_0x2ebc90[_0xb415f(0x15b)]),_0x2ebc90['ev']['on'](_0xb415f(0x11a),_0x2ebc90[_0xb415f(0x12d)]),_0x2ebc90['ev']['on'](_0xb415f(0x11f),_0x2ebc90[_0xb415f(0x147)]),_0x2ebc90['ev']['on'](_0xb415f(0x120),_0x2ebc90[_0xb415f(0x133)]),_0x2ebc90['ev']['on'](_0xb415f(0x129),_0x2ebc90[_0xb415f(0x124)]);if(!_0xdbe252[_0xb415f(0x137)])_0x2ebc90['ev']['on'](_0xb415f(0x14f),_0x2ebc90[_0xb415f(0x122)]);return _0x2ebc90['ev']['on'](_0xb415f(0x144),_0x2ebc90[_0xb415f(0x13c)]),_0x2ebc90[_0xb415f(0x12c)]=![],!![];}async function connectionUpdate(_0x23fb7c){const _0x6da5ff=_0x5890c8;console[_0x6da5ff(0x15d)](_0x23fb7c);const {connection:_0x1a19cb,lastDisconnect:_0x173136,isNewLogin:_0x10577a}=_0x23fb7c;if(_0x10577a)this['isInit']=!![];const _0x3d2e08=_0x173136?.[_0x6da5ff(0x152)]?.['output']?.[_0x6da5ff(0x13f)]||_0x173136?.[_0x6da5ff(0x152)]?.[_0x6da5ff(0x138)]?.['payload']?.[_0x6da5ff(0x13f)];_0x3d2e08&&_0x3d2e08!==DisconnectReason[_0x6da5ff(0x119)]&&this?.['ws'][_0x6da5ff(0x14b)]!==_0x2654c0[_0x6da5ff(0x12e)]&&(console[_0x6da5ff(0x15d)](await reload(this,!![])[_0x6da5ff(0x150)](console[_0x6da5ff(0x152)])),global[_0x6da5ff(0x125)][_0x6da5ff(0x158)]=new Date());if(_0x1a19cb=='open')console['log'](_0xb054a8[_0x6da5ff(0x132)]('\x0a[_>]\x20CONECTADO\x20:D\x0a'));if(_0x59092a[_0x6da5ff(0x130)]==null)loadDatabase();this[_0x6da5ff(0x136)](_0x6da5ff(0x14c))[_0x6da5ff(0x150)](_0x19a783=>{const _0x45d1f8=_0x6da5ff;console[_0x45d1f8(0x15d)](_0x19a783);});}const conn=start(null,{'store':store})[_0x5890c8(0x150)](console[_0x5890c8(0x152)]);export default{'start':start,'reload':reload,'conn':conn,'conns':conns,'connectionOptions':connectionOptions,'authFolder':authFolder,'authState':authState,'store':store};
